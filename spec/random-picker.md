# 產品規格文件：隨機選人 (Random Student Picker)

## 1. 專案概述
本工具提供老師在 `students.html` 班級管理頁面中快速抽選學生的功能。啟動後會於畫面中央以燈箱方式開啟設定面板，並可透過放大模式在投影時取得更大顯示面積。

- **目標使用者**：學校教師、補習班老師。
- **適用情境**：課堂點名、隨機問答、分組活動。

## 2. 功能需求

### 2.1 啟動與關閉
- 左側選單新增「隨機選人」項目，點擊後於畫面中央開啟燈箱。
- 體驗與考試倒數計時器一致：背景全畫面遮罩、內容垂直水平置中。
- 預設提供一般尺寸，也可透過標題列放大按鈕切換「放大 / 縮小」兩種寬度。
- 可按 ESC、點擊遮罩或關閉按鈕離開燈箱。

### 2.2 基本設定區塊
- **號碼範圍**
  - 預設會依照當前班級人數設定起始號碼為 1，結束號碼為班級人數。
  - 下拉選單的最大值不受班級人數限制，可隨使用者拉選自動往上擴充（以 10 為增量）。
  - 會自動確保結束號碼不小於起始號碼。
- **選取人數**
  - 以數字輸入欄設定，預設為 1，最大值等於可抽選號碼的數量。
  - 當沒有可抽選號碼時輸入框會停用。
- **排除號碼**
  - 依照目前設定的號碼範圍產生勾選清單，老師可以快速勾選不參與抽選的座號。
  - 篩選範圍調整時，排除清單會同步更新並移除超出範圍的勾選項目。

### 2.3 抽選流程
- 點擊「隨機抽選」後，系統會在可用號碼中隨機抽出指定人數，結果不重複且不排序。
- 抽選後顯示座號與對應學生姓名（若有資料）。
- 會於訊息列提示抽選人數，同時彈出置中的結果燈箱顯示抽中的座號與姓名，需按下「確認」關閉以避免立即再次按下 Enter 觸發重抽。
- 結果燈箱會以全螢幕遮罩呈現並自動調整座號排列及字體尺寸，讓不同抽選人數時仍能佔滿視窗且清楚辨識。

### 2.4 畫面與操作細節
- 無學生資料時顯示空狀態訊息並停用所有設定元件。
- 設定變更後會清除上一筆抽選結果，並重新更新可抽選狀態提示。
- 放大模式會保留到下一次切換前，即使關閉燈箱再次開啟仍套用最新狀態。
- 結果燈箱可藉由點擊背景或按 ESC 關閉，並會自動將焦點帶回抽選操作按鈕，維持流程連貫。

## 3. 檔案結構
- `css/random-picker.css`：隨機選人燈箱的樣式與放大模式。
- `js/random-picker.js`：功能邏輯、動態選項擴充、抽選與提醒流程。
- `students.html`：載入所需的 CSS / JS 以及啟動節點。
- `js/students/app.js`：於學生頁初始化隨機選人工具。
